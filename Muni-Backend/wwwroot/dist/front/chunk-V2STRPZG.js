import{a as w}from"./chunk-NWILWSBS.js";import{a as x}from"./chunk-L42XN4DD.js";import{b as C}from"./chunk-AGJGSIFL.js";import{a as _}from"./chunk-LJR3HAMU.js";import"./chunk-NMDXMUNG.js";import{i as g,m as b}from"./chunk-D3SPV6B2.js";import{Hb as i,Ib as r,Jb as p,Nc as f,Ob as d,bb as c,cb as u,f as M,g as a,gc as m,ic as h,ma as l,xb as s}from"./chunk-XMWXLGNA.js";var y=M(_());var k=o=>({nobodyCollapse:o}),D=(()=>{class o{auth;constructor(e){this.auth=e}ngOnInit(){this.auth.getObservable().subscribe(e=>{this.setPermission(e)}),this.setPermission(this.auth.getAuth())}setPermission(e){if(!e){this.buttons=[];return}this.buttons=[{text:"Dashboard",icon:"dashboard",click:"/session/dashboard",show:!0},{text:"Reportes",icon:"assignment",click:"/session/reports-home",show:!0},{text:"Validar Reportes",icon:"check_circle",click:"/session/reports-valid",show:e?.roles.includes("ADMINISTRATOR")||e?.roles.includes("ADMINMUNI")},{text:"Administrador",icon:"admin_panel_settings",show:e?.roles.includes("ADMINISTRATOR"),child:[{text:"Usuarios",icon:"people",click:"/session/user-home",show:!0},{text:"Cat\xE1logos",icon:"list",child:[...w.map(t=>({text:t.title,icon:"list",click:`/session/catalogue/${t.name}`,show:!0}))],show:!0}]},{text:"Cerrar sesi\xF3n",icon:"logout",click:()=>a(this,null,function*(){(yield y.default.fire({title:"\xBFEst\xE1s seguro de cerrar sesi\xF3n?",showCancelButton:!0,confirmButtonText:"Cerrar sesi\xF3n",cancelButtonText:"Cancelar",icon:"question"})).isConfirmed&&this.auth.logout()}),show:!0}]}buttons=[];isCollapsed=!0;static \u0275fac=function(t){return new(t||o)(u(C))};static \u0275cmp=l({type:o,selectors:[["app-general-menu"]],standalone:!0,features:[m],decls:5,vars:4,consts:[[3,"collapseEvent","buttons"],[1,"flex","justify-end"],[1,"bodyNormal","min-h-screen","bg-gray-900","flex","justify-center","pt-[30px]","bg-cover","bg-center",2,"background-image","url(fondoHome.webp)","background-size","contain","background-repeat","no-repeat","background-color","#e0d3b0",3,"ngClass"],[1,"w-[80%]"]],template:function(t,n){t&1&&(i(0,"app-side-menu",0),d("collapseEvent",function(v){return n.isCollapsed=v}),r(),i(1,"section",1)(2,"section",2)(3,"div",3),p(4,"router-outlet"),r()()()),t&2&&(s("buttons",n.buttons),c(2),s("ngClass",h(2,k,!n.isCollapsed)))},dependencies:[x,b,g,f],styles:[".bodyNormal[_ngcontent-%COMP%]{width:calc(100% - 60px)}@media (min-width: 600px){.bodyNormal[_ngcontent-%COMP%]{transition:.2s ease-in}.nobodyCollapse[_ngcontent-%COMP%]{width:calc(100% - 300px)}}"]})}return o})();export{D as GeneralMenuComponent};
