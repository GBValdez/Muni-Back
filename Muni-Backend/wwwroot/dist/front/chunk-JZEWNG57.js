import{a as pe,b as de}from"./chunk-3MTOHGU4.js";import"./chunk-AKPSIYXH.js";import{a as te,b as ie,c as re,d as oe,e as me,f as le}from"./chunk-FWEEK3AB.js";import{q as ne,r as ae}from"./chunk-X4ZPY7MU.js";import{A as K,F as Q,G as W,K as Z,L as ee,b as z,f as A,g as V,j as H,l as k,m as j,o as O,q as P,r as L,t as R,u as D,v as G,w as $,y as q,z as J}from"./chunk-TC6JZHBV.js";import"./chunk-RGNDWIHZ.js";import{b as se}from"./chunk-TBBBRDCQ.js";import"./chunk-7E4ZDMYO.js";import{a as fe}from"./chunk-LJR3HAMU.js";import{a as X,b as Y}from"./chunk-NMDXMUNG.js";import{ga as B,k as N,m as T}from"./chunk-D3SPV6B2.js";import{$b as w,Cb as h,Db as b,Eb as E,Fb as _,Gb as S,Hb as i,Ib as t,Jb as x,Lb as I,Ob as g,Qb as d,Zb as U,_b as r,ac as v,bb as n,cb as f,f as ue,gc as y,hc as F,ma as C,vb as M,wa as c,xa as u,xb as l}from"./chunk-XMWXLGNA.js";var ce=ue(fe());var xe=()=>[5,10,15,20];function ge(o,s){if(o&1&&(i(0,"mat-option",10),r(1),t()),o&2){let e=s.$implicit;l("value",e.id),n(),w(e.name)}}function ve(o,s){if(o&1&&(i(0,"mat-card",17)(1,"mat-card-header")(2,"mat-card-title")(3,"h3",18),r(4),t()()(),i(5,"mat-card-content")(6,"div",19)(7,"h4",20),r(8,"Email:"),t(),r(9),t(),i(10,"div")(11,"h4",20),r(12,"Estado:"),t(),r(13),t()()(),i(14,"mat-menu",21,0)(16,"button",22)(17,"mat-icon"),r(18,"edit"),t(),i(19,"span"),r(20,"Editar"),t()()()),o&2){let e=s.$implicit,a=U(15);l("matMenuTriggerFor",a),n(4),v(" ",e.userName," "),n(5),v(" ",e.Email," "),n(4),v(" ",e.isActive?"Activo":"Inactivo"," "),n(3),l("routerLink","/session/user-home/edit/"+e.userName)}}function _e(o,s){if(o&1){let e=I();i(0,"mat-card",4)(1,"mat-card-content")(2,"form",5),g("ngSubmit",function(){c(e);let m=d();return u(m.search())}),i(3,"mat-form-field",6)(4,"mat-label"),r(5,"UserName"),t(),x(6,"input",7),t(),i(7,"mat-form-field",6)(8,"mat-label"),r(9,"Email"),t(),x(10,"input",8),t(),i(11,"mat-form-field",6)(12,"mat-label"),r(13,"Roles"),t(),i(14,"mat-select",9),_(15,ge,2,2,"mat-option",10,E),t()(),i(17,"mat-form-field",6)(18,"mat-label"),r(19,"Estado"),t(),i(20,"mat-select",11)(21,"mat-option",10),r(22,"Todos"),t(),i(23,"mat-option",10),r(24,"Activo"),t(),i(25,"mat-option",10),r(26,"Inactivo"),t()()(),i(27,"div",12)(28,"button",13),g("click",function(){c(e);let m=d();return u(m.cleanFilter())}),r(29," Limpiar "),t(),i(30,"button",14),r(31," Buscar "),t()()()()(),i(32,"section",15),_(33,ve,21,5,null,null,b),t(),i(35,"footer")(36,"mat-paginator",16),g("page",function(m){c(e);let p=d();return u(p.changePagination(m))}),t()()}if(o&2){let e=d();n(2),l("formGroup",e.form),n(13),S(e.rolesOpt),n(6),l("value",null),n(2),l("value",!0),n(2),l("value",!1),n(5),l("disabled",e.form.invalid),n(3),S(e.users),n(3),l("length",e.sizeUsers)("pageSize",10)("pageSizeOptions",F(8,xe))}}function Se(o,s){o&1&&x(0,"img",3)}var $e=(()=>{class o{userAdminSvc;fb;rolSvc;constructor(e,a,m){this.userAdminSvc=e,this.fb=a,this.rolSvc=m}ngOnInit(){this.form=this.fb.group({UserNameCont:[""],EmailCont:[""],roles:[""],isActive:[null]},{validators:se()}),this.getUser(1,10),this.rolSvc.get({all:!0}).subscribe(e=>{this.rolesOpt=e.items})}rolesOpt=[];form;users=[];sizeUsers=0;indexPage=0;pageSize=10;getUser(e,a,m){this.userAdminSvc.getUsers(a,e,m).subscribe(p=>{p.total>0?(this.users=p.items,this.sizeUsers=p.total):ce.default.fire("No se encontraron usuarios","","info")})}changePagination(e){this.indexPage=e.pageIndex,this.pageSize=e.pageSize,this.getUser(e.pageIndex+1,e.pageSize)}search(){this.form.valid&&this.getUser(1,10,this.form.value)}cleanFilter(){this.form.patchValue({UserNameCont:"",EmailCont:"",roles:[],isActive:null}),this.getUser(1,10)}static \u0275fac=function(a){return new(a||o)(f(pe),f(O),f(de))};static \u0275cmp=C({type:o,selectors:[["app-user-home"]],standalone:!0,features:[y],decls:5,vars:1,consts:[["menu","matMenu"],[1,"flex","justify-between"],[1,"title"],["src","./assets/img/noFound.png","alt","",1,"sm:w-[40%]","w-[90%]","left-0","right-0","mx-auto","rounded-3xl"],[1,"w-full"],[1,"flex","sm:justify-between","justify-center","flex-wrap","w-full",3,"ngSubmit","formGroup"],[1,"sm:w-[30%]","w-full"],["matInput","","placeholder","Nombre","formControlName","UserNameCont"],["matInput","","placeholder","Nombre","formControlName","EmailCont"],["formControlName","roles","multiple",""],[3,"value"],["formControlName","isActive"],[1,"flex","justify-end","w-full","flex-wrap"],["mat-raised-button","","type","button",1,"ml-[5px]","mt-[5px]",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"ml-[5px]","mt-[5px]",3,"disabled"],[1,"flex","flex-wrap"],[1,"rounded-xl",3,"page","length","pageSize","pageSizeOptions"],[1,"w-[250px]","m-[5px]","cursor-pointer","box-border",3,"matMenuTriggerFor"],[1,"titleItem"],[1,"break-words"],[1,"subtitleItem"],["xPosition","after"],["mat-menu-item","",3,"routerLink"]],template:function(a,m){a&1&&(i(0,"section",1)(1,"h2",2),r(2,"Usuarios"),t()(),M(3,_e,37,9)(4,Se,1,0,"img",3)),a&2&&(n(3),h(m.users.length>0?3:4))},dependencies:[J,D,$,q,G,W,Q,K,P,H,z,A,V,k,j,oe,ie,te,re,Y,X,R,L,ee,Z,le,me,T,N,ae,ne,B]})}return o})();export{$e as UserHomeComponent};
