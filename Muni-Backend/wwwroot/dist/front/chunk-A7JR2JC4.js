import{a as Vt,b as Dt}from"./chunk-3MTOHGU4.js";import"./chunk-AKPSIYXH.js";import{b as Tt,h as It,i as Ft,k as kt,o as V,p as Lt,q as xt,r as Pt}from"./chunk-X4ZPY7MU.js";import{A as ee,B as Ct,E as St,F as te,G as ie,K as At,L as Mt,a as Xe,b as $e,d as he,e as q,f as T,g as Ze,i as G,j as Je,k as z,l as et,m as tt,o as Q,q as I,r as dt,t as ht,u as _t,v as ft,w as vt,y as gt,z as Z}from"./chunk-TC6JZHBV.js";import{c as yt,d as J,e as Ot,g as R,h as bt,j as ge}from"./chunk-RGNDWIHZ.js";import"./chunk-TBBBRDCQ.js";import"./chunk-7E4ZDMYO.js";import{a as Rt}from"./chunk-LJR3HAMU.js";import{a as wt,b as Et}from"./chunk-NMDXMUNG.js";import{F as nt,G as st,H as _e,I as $,K as at,V as rt,X as fe,da as lt,ea as ct,fa as pt,ga as F,h as ze,ha as ut,ia as mt,j as Qe,ja as ve,o as it,v as ot,x as X}from"./chunk-D3SPV6B2.js";import{$ as Fe,$b as M,Ab as Be,B as Me,Ca as Re,Cb as U,D as j,Db as He,E as L,Ea as v,Eb as Ue,F as N,Fa as Ve,Fb as K,Gb as Y,Gc as qe,Hb as l,Ia as re,Ib as p,L as se,Lb as b,N as Te,Ob as f,Qb as g,Rb as E,Sb as A,Sc as Ge,Tb as pe,Ub as ue,Vb as x,Wb as P,X as Ie,Y as W,Zb as Ke,_b as u,ac as Ye,ba as ke,bb as m,cb as c,da as Le,eb as De,f as Se,fa as ae,fc as me,g as k,gc as C,h as D,ia as B,j as we,lb as je,m as ne,ma as O,mb as Ne,na as xe,oa as Pe,s as Ee,sb as le,uc as de,va as H,vb as w,w as Ae,wa as d,wb as ce,xa as h,xb as _,xc as S,zb as We}from"./chunk-XMWXLGNA.js";var oi=["panel"],ni=["*"];function si(n,a){if(n&1){let o=b();l(0,"div",1,0),f("@panelAnimation.done",function(t){d(o);let i=g();return h(i._animationDone.next(t))}),A(2),p()}if(n&2){let o=a.id,e=g();Be(e._classList),We("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),_("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),ce("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(o))}}var ai=yt("panelAnimation",[bt("void, hidden",R({opacity:0,transform:"scaleY(0.8)"})),ge(":enter, hidden => visible",[Ot([J("0.03s linear",R({opacity:1})),J("0.12s cubic-bezier(0, 0, 0.2, 1)",R({transform:"scaleY(1)"}))])]),ge(":leave, visible => hidden",[J("0.075s linear",R({opacity:0}))])]),ri=0,ye=class{constructor(a,o){this.source=a,this.option=o}},Wt=new ae("mat-autocomplete-default-options",{providedIn:"root",factory:li});function li(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Bt=(()=>{let a=class a{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,i,s){this._changeDetectorRef=e,this._elementRef=t,this._defaults=i,this._activeOptionChanges=D.EMPTY,this._animationDone=new v,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new v,this.opened=new v,this.closed=new v,this.optionActivated=new v,this.id=`mat-autocomplete-${ri++}`,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new at(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new ye(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}};a.\u0275fac=function(t){return new(t||a)(c(de),c(re),c(Wt),c(it))},a.\u0275cmp=O({type:a,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,s){if(t&1&&(pe(s,F,5),pe(s,ct,5)),t&2){let r;x(r=P())&&(i.options=r),x(r=P())&&(i.optionGroups=r)}},viewQuery:function(t,i){if(t&1&&(ue(De,7),ue(oi,5)),t&2){let s;x(s=P())&&(i.template=s.first),x(s=P())&&(i.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",S],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",S],requireSelection:[2,"requireSelection","requireSelection",S],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",S],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",S]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[me([{provide:lt,useExisting:a}]),le,C],ngContentSelectors:ni,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(E(),w(0,si,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ai]},changeDetection:0});let n=a;return n})();var ci={provide:Xe,useExisting:ke(()=>be),multi:!0};var Ht=new ae("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(V);return()=>n.scrollStrategies.reposition()}});function pi(n){return()=>n.scrollStrategies.reposition()}var ui={provide:Ht,deps:[V],useFactory:pi},be=(()=>{let a=class a{constructor(e,t,i,s,r,oe,zt,Qt,Xt,$t,Zt){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=s,this._changeDetectorRef=r,this._dir=zt,this._formField=Qt,this._document=Xt,this._viewportRuler=$t,this._defaults=Zt,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=D.EMPTY,this._breakpointObserver=B(nt),this._handsetLandscapeSubscription=D.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ne,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new ne,this._injector=B(Re),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Me(()=>{let y=this.autocomplete?this.autocomplete.options:null;return y?y.changes.pipe(Ie(y),W(()=>L(...y.map(Jt=>Jt.onSelectionChange)))):this._initialized.pipe(W(()=>this.optionSelections))}),this._handlePanelKeydown=y=>{(y.keyCode===27&&!X(y)||y.keyCode===38&&X(y,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),y.stopPropagation(),y.preventDefault())},this._trackedModal=null,this._scrollStrategy=oe}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&$(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return L(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(N(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(N(()=>this._overlayAttached)):Ee()).pipe(Ae(e=>e instanceof pt?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return L(j(this._document,"click"),j(this._document,"auxclick"),j(this._document,"touchend")).pipe(N(e=>{let t=ot(e),i=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(t))&&(!s||!s.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=X(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,r=t===38||t===40;t===9||r&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):r&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(r||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(r=>r.selected);if(s){let r=this._getDisplayValue(s.value);i!==r&&s.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new we(i=>{je(()=>{i.next()},{injector:this._injector})}),t=this.autocomplete.options.changes.pipe(Fe(()=>this._positionStrategy.reapplyLastPosition()),Te(0));return L(e,t).pipe(W(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),se(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(se(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;_e(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Tt(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(st.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new kt({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],r;this.position==="above"?r=s:this.position==="below"?r=t:r=[...t,...s],e.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,i=ut(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let s=t.options.toArray()[e];if(s){let r=s._getHostElement(),oe=mt(r.offsetTop,r.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(oe)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&$(this._trackedModal,"aria-owns",t),_e(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;$(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};a.\u0275fac=function(t){return new(t||a)(c(re),c(V),c(Ne),c(Ve),c(de),c(Ht),c(rt,8),c(St,9),c(qe,8),c(It),c(Wt,8))},a.\u0275dir=Pe({type:a,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&f("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(r){return i._handleInput(r)})("keydown",function(r){return i._handleKeydown(r)})("click",function(){return i._handleClick()}),t&2&&ce("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",S]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[me([ci]),le,H]});let n=a;return n})(),Ut=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=xe({type:a}),a.\u0275inj=Le({providers:[ui],imports:[Lt,ve,fe,Ge,Ft,ve,fe]});let n=a;return n})();var _i=["*"];function fi(n,a){if(n&1&&(l(0,"mat-option",4),u(1),p()),n&2){let o=a.$implicit;_("value",o),m(),M(o.name)}}var Yt=(()=>{class n{fb;ngControl;constructor(o,e){this.fb=o,this.ngControl=e,this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnChanges(o){this.noFilter&&o.options&&(this.optionsFilter=this.options,console.log(this.optionsFilter))}form=new G;currentValue="";options=[];noFilter=!1;noExistOptionEvent=new v;writingEvent=new v;selectedEvent=new v;optionsFilter=[];showErrors(){}onTouch;onWrite;writeValue(o){setTimeout(()=>{let e=this.options.find(t=>t.id==o);this.form.patchValue(e)},10)}registerOnChange(o){this.onWrite=o}registerOnTouched(o){this.onTouch=o}setDisabledState(o){o?this.form.disable():this.form.enable()}ngOnInit(){this.ngControl?.control&&this.form.setValidators(this.ngControl.control.validator),this.form.updateValueAndValidity()}filter(o){console.log("filter",this.optionsFilter),setTimeout(()=>{let e=o.target.value;this.writingEvent.emit(e),this.currentValue=e;let t=this.options.find(i=>i.name.toLowerCase()===e.toLowerCase())?.id;t?this.onWrite?.(t):(this.onWrite?.(""),this.noFilter?this.optionsFilter=this.options:this.optionsFilter=this.options.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())))},10)}displayText(o){return o&&o.name?o.name:""}noExistOption(){setTimeout(()=>k(this,null,function*(){if(this.currentValue.trim().length==0)return;let o=this.options.find(e=>e.name.toLowerCase()==this.currentValue.toLowerCase());o?this.onWrite?.(o.id):(this.noExistOptionEvent.emit(this.currentValue),this.form.patchValue("")),this.onTouch?.()}),70)}selected(o){this.selectedEvent.emit(o.option.value),this.onWrite?.(o.option.value)}static \u0275fac=function(e){return new(e||n)(c(Q),c(q,10))};static \u0275cmp=O({type:n,selectors:[["app-input-autocomplete"]],inputs:{options:"options",noFilter:"noFilter"},outputs:{noExistOptionEvent:"noExistOptionEvent",writingEvent:"writingEvent",selectedEvent:"selectedEvent"},standalone:!0,features:[H,C],ngContentSelectors:_i,decls:12,vars:3,consts:[["auto","matAutocomplete"],[1,"w-full"],["type","text","matInput","",3,"focus","input","blur","formControl","matAutocomplete"],[2,"z-index","5000",3,"optionSelected","displayWith"],[3,"value"]],template:function(e,t){if(e&1){let i=b();E(),l(0,"mat-form-field",1)(1,"mat-label"),A(2),p(),l(3,"input",2),f("focus",function(r){return d(i),h(t.filter(r))})("input",function(r){return d(i),h(t.filter(r))})("blur",function(){return d(i),h(t.noExistOption())}),p(),l(4,"mat-autocomplete",3,0),f("optionSelected",function(r){return d(i),h(t.selected(r))}),K(6,fi,2,2,"mat-option",4,Ue),p(),l(8,"mat-error"),u(9,"El campo es "),l(10,"strong"),u(11,"requerido"),p()()()}if(e&2){let i=Ke(5);m(3),_("formControl",t.form)("matAutocomplete",i),m(),_("displayWith",t.displayText),m(2),Y(t.optionsFilter)}},dependencies:[ie,te,ee,Ct,Ut,Bt,F,be,Mt,At,I,$e,T,z]})}return n})();var qt=Se(Rt());var vi=["*"];function gi(n,a){if(n&1){let o=b();l(0,"div",3)(1,"span",4),u(2),p(),l(3,"mat-icon",5),f("click",function(){let t=d(o).$implicit,i=g(2);return h(i.removeItem(t))}),u(4,"close"),p()()}if(n&2){let o=a.$implicit;m(2),M(o.name)}}function yi(n,a){if(n&1&&K(0,gi,5,1,"div",3,He),n&2){let o=g();Y(o.itemsSelected)}}function Oi(n,a){n&1&&(l(0,"div",2),u(1,"No ha seleccionado ning\xFAn registro"),p())}var Gt=(()=>{class n{ngControl;constructor(o){this.ngControl=o,this.ngControl&&(this.ngControl.valueAccessor=this)}onTouch;onWrite;inputControl=new G;writeValue(o){o&&(this.itemsSelected=o,setTimeout(()=>{this.onWrite?.(this.itemsSelected.map(e=>e.id))},10))}registerOnChange(o){this.onWrite=o}registerOnTouched(o){this.onTouch=o}foundingEvent=new v;noExistOptionEvent=new v;listOpt=[];isLocal=!1;founding(o){this.foundingEvent.emit(o)}noExistOption(o){this.isLocal&&this.noExistOptionEvent.emit(o)}itemsSelected=[];removeItem(o){this.itemsSelected=this.itemsSelected.filter(e=>e.id!==o.id),this.onWrite?.(this.itemsSelected.map(e=>e.id))}addItems(o){if(this.inputControl.patchValue(""),this.itemsSelected.some(e=>e.id===o.id)){qt.default.fire("Error","El item ya esta en la lista","error");return}this.itemsSelected.push(o),this.onWrite?.(this.itemsSelected.map(e=>e.id))}static \u0275fac=function(e){return new(e||n)(c(q,10))};static \u0275cmp=O({type:n,selectors:[["app-list-maker-list"]],inputs:{listOpt:"listOpt",isLocal:"isLocal"},outputs:{foundingEvent:"foundingEvent",noExistOptionEvent:"noExistOptionEvent"},standalone:!0,features:[C],ngContentSelectors:vi,decls:5,vars:4,consts:[[3,"writingEvent","selectedEvent","noExistOptionEvent","options","noFilter","formControl"],[1,"flex","flex-wrap","justify-center"],[1,"text-red-500","font-bold"],[1,"bg-orange-600","flex","items-center","w-[220px]","text-white","rounded-lg","p-2","m-1"],[1,"font-black","text-lg","w-[250px]"],[1,"cursor-pointer",3,"click"]],template:function(e,t){e&1&&(E(),l(0,"app-input-autocomplete",0),f("writingEvent",function(s){return t.founding(s)})("selectedEvent",function(s){return t.addItems(s)})("noExistOptionEvent",function(s){return t.noExistOption(s)}),A(1),p(),l(2,"section",1),w(3,yi,2,0)(4,Oi,2,0,"div",2),p()),e&2&&(_("options",t.listOpt)("noFilter",!t.isLocal)("formControl",t.inputControl),m(3),U(t.itemsSelected.length>0?3:4))},dependencies:[Yt,Z,Et,wt,I,T,z]})}return n})();var Ce=Se(Rt());function bi(n,a){if(n&1){let o=b();l(0,"h2",0),u(1),p(),l(2,"form",1),f("ngSubmit",function(){d(o);let t=g();return h(t.save())}),l(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title")(6,"h2",3),u(7,"Informaci\xF3n General"),p()()(),l(8,"mat-card-content")(9,"section")(10,"div",4)(11,"h4",3),u(12,"Email:"),p(),u(13),p(),l(14,"mat-form-field",5)(15,"mat-label"),u(16,"Estado"),p(),l(17,"mat-select",6)(18,"mat-option",7),u(19," Activo "),p(),l(20,"mat-option",7),u(21," Inactivo "),p()()()()()(),l(22,"mat-card",8)(23,"mat-card-header")(24,"mat-card-title")(25,"h3",3),u(26,"Roles"),p()()(),l(27,"mat-card-content")(28,"app-list-maker-list",9),f("foundingEvent",function(t){d(o);let i=g();return h(i.foundRoles(t))}),u(29," Buscar Rol "),p(),l(30,"section",10)(31,"button",11),f("click",function(){d(o);let t=g();return h(t.clean())}),u(32,"Limpiar"),p()()()(),l(33,"mat-card",12)(34,"mat-card-content")(35,"div",13)(36,"button",14),f("click",function(){d(o);let t=g();return h(t.cancel())}),u(37," Cancelar "),p(),l(38,"button",15),u(39," Guardar "),p()()()()()}if(n&2){let o=g();m(),M(o.userEdit.userName),m(),_("formGroup",o.form),m(11),Ye(" ",o.userEdit.Email," "),m(5),_("value",!0),m(2),_("value",!1),m(8),_("listOpt",o.rolOpt),m(10),_("disabled",o.form.invalid)}}var Do=(()=>{class n{fb;router;userSvc;actRoute;rolSvc;constructor(o,e,t,i,s){this.fb=o,this.router=e,this.userSvc=t,this.actRoute=i,this.rolSvc=s}userName="";userEdit;form;ngOnInit(){this.form=this.fb.group({roles:[[],[he.required]],status:[!0,[he.required]]}),this.userName=this.actRoute.snapshot.params.userName,this.userSvc.getUserByUserName(this.userName).subscribe(o=>{if(this.userEdit=o,o.roles){let e={roles:o.roles.map(t=>({id:t,name:t,description:""})),status:o.isActive};this.form.patchValue(e)}})}rolOpt=[];cancel(){this.router.navigate(["/session/user-home"])}clean(){this.form.patchValue({roles:[]})}foundRoles(o){this.rolSvc.get({all:!0}).subscribe(e=>{this.rolOpt=e.items.map(t=>({id:t.name,name:t.name,description:""}))})}save(){return k(this,null,function*(){this.form.valid?(yield Ce.default.fire({title:"\xBFEst\xE1s seguro de actualizar el usuario?",showCancelButton:!0,confirmButtonText:"Actualizar",icon:"question"})).isConfirmed&&this.userSvc.updateUser(this.form.value,this.userName).subscribe(e=>k(this,null,function*(){yield Ce.default.fire("El usuario ha sido actualizado","","success"),this.router.navigate(["/session/user-home"])})):this.form.markAllAsTouched()})}static \u0275fac=function(e){return new(e||n)(c(Q),c(Qe),c(Vt),c(ze),c(Dt))};static \u0275cmp=O({type:n,selectors:[["app-user-edit"]],standalone:!0,features:[C],decls:1,vars:1,consts:[[1,"title"],[1,"flex","justify-between","flex-wrap",3,"ngSubmit","formGroup"],[1,"w-full"],[1,"titleItem"],[1,"break-words"],[1,"w-full","mt-[5px]"],["formControlName","status"],[3,"value"],[1,"mt-[5px]","w-full"],["formControlName","roles",3,"foundingEvent","listOpt"],[1,"flex","justify-end"],["mat-raised-button","",3,"click"],[1,"my-3","w-full"],[1,"flex","justify-end","w-full","flex-wrap"],["mat-raised-button","","color","warn","type","button",1,"ml-2",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"ml-2",3,"disabled"]],template:function(e,t){e&1&&w(0,bi,40,7),e&2&&U(t.userEdit?0:-1)},dependencies:[I,Je,T,Ze,et,tt,Z,_t,vt,gt,ft,Gt,ht,dt,ie,te,ee,Pt,xt,F]})}return n})();export{Do as UserEditComponent};
