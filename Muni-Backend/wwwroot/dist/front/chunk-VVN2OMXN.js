import{a as ot}from"./chunk-GWLFMIOS.js";import{A as K,B as Q,C as W,F as X,G as Y,K as it,L as rt,b as V,d as b,f as N,g as q,j as B,l as j,m as A,o as L,q as D,r as G,s as O,t as $,u as z,v as Z,w as H,y as U,z as J}from"./chunk-TC6JZHBV.js";import"./chunk-RGNDWIHZ.js";import"./chunk-TBBBRDCQ.js";import"./chunk-7E4ZDMYO.js";import{a as st}from"./chunk-LJR3HAMU.js";import{a as tt,b as et}from"./chunk-NMDXMUNG.js";import{h as R,j as P,k as T,m as k}from"./chunk-D3SPV6B2.js";import{$b as S,Cb as x,Hb as t,Ib as i,Jb as C,Lb as M,Ob as w,Qb as I,Zb as c,_b as e,ac as E,bb as s,cb as u,f as nt,g as h,gc as F,ma as _,vb as y,wa as p,xa as f,xb as v}from"./chunk-XMWXLGNA.js";var g=nt(st());function mt(r,at){if(r&1&&(t(0,"p",12),e(1),i()),r&2){let o=I();s(),E(" La contrase\xF1a debe contener: 8 caracteres de longitud, una letra may\xFAscula , una letra min\xFAscula, al menos un numero, un car\xE1cter especial (",o.symbols,"). ")}}function lt(r,at){r&1&&(t(0,"p",12),e(1,"Las contrase\xF1as no coinciden"),i())}var It=(()=>{class r{fb;router;activateRoute;userSvc;passwordEqual=o=>{let a=o.get("password").value,n=o.get("confirmPassword").value;return a===n?null:{noIgual:!0}};symbols="@$!%*?&#";form;constructor(o,a,n,m){this.fb=o,this.router=a,this.activateRoute=n,this.userSvc=m}gmail="";token="";ngOnInit(){this.form=this.fb.group({password:["",[b.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/),b.required]],confirmPassword:["",[b.required]]},{validators:this.passwordEqual.bind(this)}),this.gmail=this.activateRoute.snapshot.params.gmail,this.token=this.activateRoute.snapshot.params.token}resetPassword(){return h(this,null,function*(){this.form.valid&&(yield g.default.fire({title:"\xBFEst\xE1s seguro?",text:"\xBFDeseas cambiar tu contrase\xF1a?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xED",cancelButtonText:"No"})).isConfirmed&&this.userSvc.resetPassword(this.token,this.gmail,this.form.value.password).subscribe(a=>{g.default.fire({title:"Contrase\xF1a cambiada",text:"Tu contrase\xF1a ha sido cambiada con \xE9xito",icon:"success"}),this.router.navigate(["/login"])})})}static \u0275fac=function(a){return new(a||r)(u(L),u(P),u(R),u(ot))};static \u0275cmp=_({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[F],decls:40,vars:6,consts:[["passwordInputOne",""],["passwordInputTwo",""],[1,"w-full","h-screen","p-5","flex","justify-center","items-center",2,"background-image","url('fondoLogin.webp')"],[1,"w-[50%]","min-w-[280px]"],[1,"title","text-orange-600"],[3,"ngSubmit","formGroup"],[1,"w-full","mb-3"],["matInput","","placeholder","Nueva contrase\xF1a","type","password","formControlName","password"],["matSuffix","","mat-icon-button","","type","button",3,"click"],[1,"w-full","mb-5"],["matInput","","placeholder","Confirmar contrase\xF1a","type","password","formControlName","confirmPassword"],[1,"w-full"],[1,"text-red-500"],[1,"flex","w-full","flex-wrap","justify-end"],["mat-raised-button","","color","warn","type","button","routerLink","/home",1,"ml-[5px]"],["mat-raised-button","","color","primary","type","submit",1,"ml-[5px]",3,"disabled"]],template:function(a,n){if(a&1){let m=M();t(0,"section",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title")(4,"h3",4),e(5," Reiniciar contrase\xF1a "),i()()(),t(6,"mat-card-content")(7,"form",5),w("ngSubmit",function(){return p(m),f(n.resetPassword())}),t(8,"mat-form-field",6)(9,"mat-label"),e(10,"Contrase\xF1a"),i(),C(11,"input",7,0),t(13,"button",8),w("click",function(){p(m);let l=c(12);return f(l.type=l.type=="text"?"password":"text")}),t(14,"mat-icon"),e(15),i()(),t(16,"mat-error"),e(17," El campo es "),t(18,"strong"),e(19,"requerido"),i()()(),t(20,"mat-form-field",9)(21,"mat-label"),e(22,"Confirmar contrase\xF1a"),i(),C(23,"input",10,1),t(25,"button",8),w("click",function(){p(m);let l=c(24);return f(l.type=l.type=="text"?"password":"text")}),t(26,"mat-icon"),e(27),i()(),t(28,"mat-error"),e(29," El campo es "),t(30,"strong"),e(31,"requerido"),i()()(),t(32,"section",11),y(33,mt,2,1,"p",12)(34,lt,2,0,"p",12),i(),t(35,"section",13)(36,"button",14),e(37," Cancelar "),i(),t(38,"button",15),e(39," Enviar "),i()()()()()()}if(a&2){let m=c(12),d=c(24);s(7),v("formGroup",n.form),s(8),S(m.type=="text"?"visibility_off":"visibility"),s(12),S(d.type=="text"?"visibility_off":"visibility"),s(6),x(n.form.get("password").hasError("pattern")?33:-1),s(),x(n.form.hasError("noIgual")?34:-1),s(4),v("disabled",n.form.invalid)}},dependencies:[Y,X,K,Q,W,D,B,V,N,q,j,A,rt,it,$,G,O,J,z,H,U,Z,k,T,et,tt]})}return r})();export{It as ResetPasswordComponent};
